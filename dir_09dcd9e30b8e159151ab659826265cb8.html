<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: C:/Users/arisc/OneDrive/Documents/GitHub/FINAL/EcoEats-Project/node_modules/next-themes Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_09dcd9e30b8e159151ab659826265cb8.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">next-themes Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for next-themes:</div>
<div class="dyncontent">
<div class="center"><img src="dir_09dcd9e30b8e159151ab659826265cb8_dep.png" border="0" usemap="#adir__09dcd9e30b8e159151ab659826265cb8__dep" loading="lazy" alt="C:/Users/arisc/OneDrive/Documents/GitHub/FINAL/EcoEats-Project/node_modules/next-themes"/></div>
</div>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10209"></a>
next-themes ![next-themes minzip package size](<a href="https://img.shields.io/bundlephobia/minzip/next-themes">https://img.shields.io/bundlephobia/minzip/next-themes</a>) [![Version](<a href="https://img.shields.io/npm/v/next-themes.svg?colorB=green">https://img.shields.io/npm/v/next-themes.svg?colorB=green</a>)](<a href="https://www.npmjs.com/package/next-themes">https://www.npmjs.com/package/next-themes</a>)</h1>
<p>An abstraction for themes in your React app.</p>
<ul>
<li>✅ Perfect dark mode in 2 lines of code</li>
<li>✅ System setting with prefers-color-scheme</li>
<li>✅ Themed browser UI with color-scheme</li>
<li>✅ Support for Next.js 13 <span class="tt">appDir</span></li>
<li>✅ No flash on load (both SSR and SSG)</li>
<li>✅ Sync theme across tabs and windows</li>
<li>✅ Disable flashing when changing themes</li>
<li>✅ Force pages to specific themes</li>
<li>✅ Class or data attribute selector</li>
<li>✅ <span class="tt">useTheme</span> hook</li>
</ul>
<p>Check out the <a href="https://next-themes-example.vercel.app/">Live Example</a> to try it for yourself.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10210"></a>
Install</h1>
<div class="fragment"><div class="line">$ npm install next-themes</div>
<div class="line"># or</div>
<div class="line">$ yarn add next-themes</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md10211"></a>
Use</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10212"></a>
With pages/</h2>
<p>You'll need a <a href="https://nextjs.org/docs/advanced-features/custom-app">Custom <span class="tt">App</span></a> to use next-themes. The simplest <span class="tt">_app</span> looks like this:</p>
<div class="fragment"><div class="line">// pages/_app.js</div>
<div class="line"> </div>
<div class="line">function MyApp({ Component, pageProps }) {</div>
<div class="line">  return &lt;Component {...pageProps} /&gt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default MyApp</div>
</div><!-- fragment --><p>Adding dark mode support takes 2 lines of code:</p>
<div class="fragment"><div class="line">// pages/_app.js</div>
<div class="line">import { ThemeProvider } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">function MyApp({ Component, pageProps }) {</div>
<div class="line">  return (</div>
<div class="line">    &lt;ThemeProvider&gt;</div>
<div class="line">      &lt;Component {...pageProps} /&gt;</div>
<div class="line">    &lt;/ThemeProvider&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default MyApp</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10213"></a>
With app/</h2>
<p>You'll need to update your <span class="tt">app/layout.jsx</span> to use next-themes. The simplest <span class="tt">layout</span> looks like this:</p>
<div class="fragment"><div class="line">// app/layout.jsx</div>
<div class="line">export default function Layout({ children }) {</div>
<div class="line">  return (</div>
<div class="line">    &lt;html&gt;</div>
<div class="line">      &lt;head /&gt;</div>
<div class="line">      &lt;body&gt;{children}&lt;/body&gt;</div>
<div class="line">    &lt;/html&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><p>Adding dark mode support takes 2 lines of code:</p>
<div class="fragment"><div class="line">// app/layout.jsx</div>
<div class="line">import { ThemeProvider } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">export default function Layout({ children }) {</div>
<div class="line">  return (</div>
<div class="line">    &lt;html suppressHydrationWarning&gt;</div>
<div class="line">      &lt;head /&gt;</div>
<div class="line">      &lt;body&gt;</div>
<div class="line">        &lt;ThemeProvider&gt;{children}&lt;/ThemeProvider&gt;</div>
<div class="line">      &lt;/body&gt;</div>
<div class="line">    &lt;/html&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><p>Note that <span class="tt">ThemeProvider</span> is a client component, not a server component.</p>
<blockquote class="doxtable">
<p><b>Note!</b> If you do not add <a href="https://reactjs.org/docs/dom-elements.html#suppresshydrationwarning:~:text=It%20only%20works%20one%20level%20deep">suppressHydrationWarning</a> to your <span class="tt">&lt;html&gt;</span> you will get warnings because <span class="tt">next-themes</span> updates that element. This property only applies one level deep, so it won't block hydration warnings on other elements. </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10214"></a>
HTML &amp; CSS</h2>
<p>That's it, your Next.js app fully supports dark mode, including System preference with <span class="tt">prefers-color-scheme</span>. The theme is also immediately synced between tabs. By default, next-themes modifies the <span class="tt">data-theme</span> attribute on the <span class="tt">html</span> element, which you can easily use to style your app:</p>
<div class="fragment"><div class="line">:root {</div>
<div class="line">  /* Your default theme */</div>
<div class="line">  --background: white;</div>
<div class="line">  --foreground: black;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[data-theme=&#39;dark&#39;] {</div>
<div class="line">  --background: black;</div>
<div class="line">  --foreground: white;</div>
<div class="line">}</div>
</div><!-- fragment --><blockquote class="doxtable">
<p><b>Note!</b> If you set the attribute of your Theme Provider to class for Tailwind next-themes will modify the <span class="tt">class</span> attribute on the <span class="tt">html</span> element. See With TailwindCSS. </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10215"></a>
useTheme</h2>
<p>Your UI will need to know the current theme and be able to change it. The <span class="tt">useTheme</span> hook provides theme information:</p>
<div class="fragment"><div class="line">import { useTheme } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">const ThemeChanger = () =&gt; {</div>
<div class="line">  const { theme, setTheme } = useTheme()</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      The current theme is: {theme}</div>
<div class="line">      &lt;button onClick={() =&gt; setTheme(&#39;light&#39;)}&gt;Light Mode&lt;/button&gt;</div>
<div class="line">      &lt;button onClick={() =&gt; setTheme(&#39;dark&#39;)}&gt;Dark Mode&lt;/button&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><blockquote class="doxtable">
<p><b>Warning!</b> The above code is hydration <em>unsafe</em> and will throw a hydration mismatch warning when rendering with SSG or SSR. This is because we cannot know the <span class="tt">theme</span> on the server, so it will always be <span class="tt">undefined</span> until mounted on the client.</p>
<p>You should delay rendering any theme toggling UI until mounted on the client. See the example. </p>
</blockquote>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10216"></a>
API</h1>
<p>Let's dig into the details.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10217"></a>
ThemeProvider</h2>
<p>All your theme configuration is passed to ThemeProvider.</p>
<ul>
<li>&lsquo;storageKey = 'theme&rsquo;<span class="tt">: Key used to store theme setting in localStorage</span></li>
<li><span class="tt"></span>defaultTheme = 'system'<span class="tt">: Default theme name (for v0.0.12 and lower the default was </span>light<span class="tt">). If </span>enableSystem<span class="tt"> is false, the default theme is </span>light<span class="tt"></span></li>
<li><span class="tt"></span>forcedTheme<span class="tt">: Forced theme name for the current page (does not modify saved theme settings)</span></li>
<li><span class="tt"></span>enableSystem = true<span class="tt">: Whether to switch between </span>dark<span class="tt"> and </span>light<span class="tt"> based on </span>prefers-color-scheme<span class="tt"></span></li>
<li><span class="tt"></span>enableColorScheme = true<span class="tt">: Whether to indicate to browsers which color scheme is used (dark or light) for built-in UI like inputs and buttons</span></li>
<li><span class="tt"></span>disableTransitionOnChange = false<span class="tt">: Optionally disable all CSS transitions when switching themes ([example](#disable-transitions-on-theme-change))</span></li>
<li><span class="tt"></span>themes = ['light', 'dark']<span class="tt">: List of theme names</span></li>
<li><span class="tt"></span>attribute = 'data-theme'<span class="tt">: HTML attribute modified based on the active theme<ul>
<li>accepts </li>
</ul>
</span>class<span class="tt"> and </span>data-*<span class="tt"> (meaning any data attribute, </span>data-mode<span class="tt">, </span>data-color<span class="tt">, etc.) ([example](#class-instead-of-data-attribute))</span></li>
<li><span class="tt"></span>value<span class="tt">: Optional mapping of theme name to attribute value<ul>
<li>value is an </li>
</ul>
</span>object<span class="tt"> where key is the theme name and value is the attribute value ([example](#differing-dom-attribute-and-theme-name))</span></li>
<li><span class="tt"></span>nonce<span class="tt">: Optional nonce passed to the injected </span>script<span class="tt"> tag, used to allow-list the next-themes script in your CSP</span></li>
<li><span class="tt"></span>scriptProps<span class="tt">: Optional props to pass to the injected </span>script` tag (example)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10218"></a>
useTheme</h2>
<p>useTheme takes no parameters, but returns:</p>
<ul>
<li><span class="tt">theme</span>: Active theme name</li>
<li><span class="tt">setTheme(name)</span>: Function to update the theme. The API is identical to the <a href="https://react.dev/reference/react/useState#setstate">set function</a> returned by <span class="tt">useState</span>-hook. Pass the new theme value or use a callback to set the new theme based on the current theme.</li>
<li><span class="tt">forcedTheme</span>: Forced page theme or falsy. If <span class="tt">forcedTheme</span> is set, you should disable any theme switching UI</li>
<li><span class="tt">resolvedTheme</span>: If <span class="tt">enableSystem</span> is true and the active theme is "system", this returns whether the system preference resolved to "dark" or "light". Otherwise, identical to <span class="tt">theme</span></li>
<li><span class="tt">systemTheme</span>: If <span class="tt">enableSystem</span> is true, represents the System theme preference ("dark" or "light"), regardless what the active theme is</li>
<li><span class="tt">themes</span>: The list of themes passed to <span class="tt">ThemeProvider</span> (with "system" appended, if <span class="tt">enableSystem</span> is true)</li>
</ul>
<p>Not too bad, right? Let's see how to use these properties with examples:</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10219"></a>
Examples</h1>
<p>The <a href="https://next-themes-example.vercel.app/">Live Example</a> shows next-themes in action, with dark, light, system themes and pages with forced themes.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10220"></a>
Use System preference by default</h2>
<p>For versions above v0.0.12, the <span class="tt">defaultTheme</span> is automatically set to "system", so to use System preference you can simply use:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider&gt;</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10221"></a>
Ignore System preference</h2>
<p>If you don't want a System theme, disable it via <span class="tt">enableSystem</span>:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider enableSystem={false}&gt;</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10222"></a>
Class instead of data attribute</h2>
<p>If your Next.js app uses a class to style the page based on the theme, change the attribute prop to <span class="tt">class</span>:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider attribute=&quot;class&quot;&gt;</div>
</div><!-- fragment --><p>Now, setting the theme to "dark" will set <span class="tt">class="dark"</span> on the <span class="tt">html</span> element.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10223"></a>
Force page to a theme</h2>
<p>Let's say your cool new marketing page is dark mode only. The page should always use the dark theme, and changing the theme should have no effect. To force a theme on your Next.js pages, simply set a variable on the page component:</p>
<div class="fragment"><div class="line">// pages/awesome-page.js</div>
<div class="line"> </div>
<div class="line">const Page = () =&gt; { ... }</div>
<div class="line">Page.theme = &#39;dark&#39;</div>
<div class="line">export default Page</div>
</div><!-- fragment --><p>In your <span class="tt">_app</span>, read the variable and pass it to ThemeProvider:</p>
<div class="fragment"><div class="line">function MyApp({ Component, pageProps }) {</div>
<div class="line">  return (</div>
<div class="line">    &lt;ThemeProvider forcedTheme={Component.theme || null}&gt;</div>
<div class="line">      &lt;Component {...pageProps} /&gt;</div>
<div class="line">    &lt;/ThemeProvider&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><p>Done! Your page is always dark theme (regardless of user preference), and calling <span class="tt">setTheme</span> from <span class="tt">useTheme</span> is now a no-op. However, you should make sure to disable any of your UI that would normally change the theme:</p>
<div class="fragment"><div class="line">const { forcedTheme } = useTheme()</div>
<div class="line"> </div>
<div class="line">// Theme is forced, we shouldn&#39;t allow user to change the theme</div>
<div class="line">const disabled = !!forcedTheme</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10224"></a>
Disable transitions on theme change</h2>
<p>I wrote about <a href="https://paco.sh/blog/disable-theme-transitions">this technique here</a>. We can forcefully disable all CSS transitions before the theme is changed, and re-enable them immediately afterwards. This ensures your UI with different transition durations won't feel inconsistent when changing the theme.</p>
<p>To enable this behavior, pass the <span class="tt">disableTransitionOnChange</span> prop:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider disableTransitionOnChange&gt;</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10225"></a>
Differing DOM attribute and theme name</h2>
<p>The name of the active theme is used as both the localStorage value and the value of the DOM attribute. If the theme name is "pink", localStorage will contain <span class="tt">theme=pink</span> and the DOM will be <span class="tt">data-theme="pink"</span>. You <b>cannot</b> modify the localStorage value, but you <b>can</b> modify the DOM value.</p>
<p>If we want the DOM to instead render <span class="tt">data-theme="my-pink-theme"</span> when the theme is "pink", pass the <span class="tt">value</span> prop:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider value={{ pink: &#39;my-pink-theme&#39; }}&gt;</div>
</div><!-- fragment --><p>Done! To be extra clear, this affects only the DOM. Here's how all the values will look:</p>
<div class="fragment"><div class="line">const { theme } = useTheme()</div>
<div class="line">// =&gt; &quot;pink&quot;</div>
<div class="line"> </div>
<div class="line">localStorage.getItem(&#39;theme&#39;)</div>
<div class="line">// =&gt; &quot;pink&quot;</div>
<div class="line"> </div>
<div class="line">document.documentElement.getAttribute(&#39;data-theme&#39;)</div>
<div class="line">// =&gt; &quot;my-pink-theme&quot;</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10226"></a>
Using with Cloudflare Rocket Loader</h2>
<p><a href="https://developers.cloudflare.com/fundamentals/speed/rocket-loader/">Rocket Loader</a> is a Cloudflare optimization that defers the loading of inline and external scripts to prioritize the website content. Since next-themes relies on a script injection to avoid screen flashing on page load, Rocket Loader breaks this functionality. Individual scripts <a href="https://developers.cloudflare.com/fundamentals/speed/rocket-loader/ignore-javascripts/">can be ignored</a> by adding the <span class="tt">data-cfasync="false"</span> attribute to the script tag:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider scriptProps={{ &#39;data-cfasync&#39;: &#39;false&#39; }}&gt;</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10227"></a>
More than light and dark mode</h2>
<p>next-themes is designed to support any number of themes! Simply pass a list of themes:</p>
<div class="fragment"><div class="line">&lt;ThemeProvider themes={[&#39;pink&#39;, &#39;red&#39;, &#39;blue&#39;]}&gt;</div>
</div><!-- fragment --><blockquote class="doxtable">
<p><b>Note!</b> When you pass <span class="tt">themes</span>, the default set of themes ("light" and "dark") are overridden. Make sure you include those if you still want your light and dark themes: </p>
</blockquote>
<div class="fragment"><div class="line">&lt;ThemeProvider themes={[&#39;pink&#39;, &#39;red&#39;, &#39;blue&#39;, &#39;light&#39;, &#39;dark&#39;]}&gt;</div>
</div><!-- fragment --><p>For an example on how to use this, check out the multi-theme example</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10228"></a>
Without CSS variables</h2>
<p>This library does not rely on your theme styling using CSS variables. You can hard-code the values in your CSS, and everything will work as expected (without any flashing):</p>
<div class="fragment"><div class="line">html,</div>
<div class="line">body {</div>
<div class="line">  color: #000;</div>
<div class="line">  background: #fff;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[data-theme=&#39;dark&#39;],</div>
<div class="line">[data-theme=&#39;dark&#39;] body {</div>
<div class="line">  color: #fff;</div>
<div class="line">  background: #000;</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10229"></a>
With Styled Components and any CSS-in-JS</h2>
<p>Next Themes is completely CSS independent, it will work with any library. For example, with Styled Components you just need to <span class="tt">createGlobalStyle</span> in your custom App:</p>
<div class="fragment"><div class="line">// pages/_app.js</div>
<div class="line">import { createGlobalStyle } from &#39;styled-components&#39;</div>
<div class="line">import { ThemeProvider } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">// Your themeing variables</div>
<div class="line">const GlobalStyle = createGlobalStyle`</div>
<div class="line">  :root {</div>
<div class="line">    --fg: #000;</div>
<div class="line">    --bg: #fff;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  [data-theme=&quot;dark&quot;] {</div>
<div class="line">    --fg: #fff;</div>
<div class="line">    --bg: #000;</div>
<div class="line">  }</div>
<div class="line">`</div>
<div class="line"> </div>
<div class="line">function MyApp({ Component, pageProps }) {</div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      &lt;GlobalStyle /&gt;</div>
<div class="line">      &lt;ThemeProvider&gt;</div>
<div class="line">        &lt;Component {...pageProps} /&gt;</div>
<div class="line">      &lt;/ThemeProvider&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10230"></a>
Avoid Hydration Mismatch</h2>
<p>Because we cannot know the <span class="tt">theme</span> on the server, many of the values returned from <span class="tt">useTheme</span> will be <span class="tt">undefined</span> until mounted on the client. This means if you try to render UI based on the current theme before mounting on the client, you will see a hydration mismatch error.</p>
<p>The following code sample is <b>unsafe</b>:</p>
<div class="fragment"><div class="line">import { useTheme } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">// Do NOT use this! It will throw a hydration mismatch error.</div>
<div class="line">const ThemeSwitch = () =&gt; {</div>
<div class="line">  const { theme, setTheme } = useTheme()</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;select value={theme} onChange={e =&gt; setTheme(e.target.value)}&gt;</div>
<div class="line">      &lt;option value=&quot;system&quot;&gt;System&lt;/option&gt;</div>
<div class="line">      &lt;option value=&quot;dark&quot;&gt;Dark&lt;/option&gt;</div>
<div class="line">      &lt;option value=&quot;light&quot;&gt;Light&lt;/option&gt;</div>
<div class="line">    &lt;/select&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default ThemeSwitch</div>
</div><!-- fragment --><p>To fix this, make sure you only render UI that uses the current theme when the page is mounted on the client:</p>
<div class="fragment"><div class="line">import { useState, useEffect } from &#39;react&#39;</div>
<div class="line">import { useTheme } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">const ThemeSwitch = () =&gt; {</div>
<div class="line">  const [mounted, setMounted] = useState(false)</div>
<div class="line">  const { theme, setTheme } = useTheme()</div>
<div class="line"> </div>
<div class="line">  // useEffect only runs on the client, so now we can safely show the UI</div>
<div class="line">  useEffect(() =&gt; {</div>
<div class="line">    setMounted(true)</div>
<div class="line">  }, [])</div>
<div class="line"> </div>
<div class="line">  if (!mounted) {</div>
<div class="line">    return null</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;select value={theme} onChange={e =&gt; setTheme(e.target.value)}&gt;</div>
<div class="line">      &lt;option value=&quot;system&quot;&gt;System&lt;/option&gt;</div>
<div class="line">      &lt;option value=&quot;dark&quot;&gt;Dark&lt;/option&gt;</div>
<div class="line">      &lt;option value=&quot;light&quot;&gt;Light&lt;/option&gt;</div>
<div class="line">    &lt;/select&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default ThemeSwitch</div>
</div><!-- fragment --><p>Alternatively, you could lazy load the component on the client side. The following example uses <span class="tt">next/dynamic</span> but you could also use <span class="tt">React.lazy</span>:</p>
<div class="fragment"><div class="line">import dynamic from &#39;next/dynamic&#39;</div>
<div class="line"> </div>
<div class="line">const ThemeSwitch = dynamic(() =&gt; import(&#39;./ThemeSwitch&#39;), { ssr: false })</div>
<div class="line"> </div>
<div class="line">const ThemePage = () =&gt; {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      &lt;ThemeSwitch /&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default ThemePage</div>
</div><!-- fragment --><p>To avoid <a href="https://web.dev/cls/">Layout Shift</a>, consider rendering a skeleton/placeholder until mounted on the client side.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md10231"></a>
Images</h3>
<p>Showing different images based on the current theme also suffers from the hydration mismatch problem. With <a href="https://nextjs.org/docs/basic-features/image-optimization"><span class="tt">next/image</span></a> you can use an empty image until the theme is resolved:</p>
<div class="fragment"><div class="line">import Image from &#39;next/image&#39;</div>
<div class="line">import { useTheme } from &#39;next-themes&#39;</div>
<div class="line"> </div>
<div class="line">function ThemedImage() {</div>
<div class="line">  const { resolvedTheme } = useTheme()</div>
<div class="line">  let src</div>
<div class="line"> </div>
<div class="line">  switch (resolvedTheme) {</div>
<div class="line">    case &#39;light&#39;:</div>
<div class="line">      src = &#39;/light.png&#39;</div>
<div class="line">      break</div>
<div class="line">    case &#39;dark&#39;:</div>
<div class="line">      src = &#39;/dark.png&#39;</div>
<div class="line">      break</div>
<div class="line">    default:</div>
<div class="line">      src = &#39;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&#39;</div>
<div class="line">      break</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  return &lt;Image src={src} width={400} height={400} /&gt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default ThemedImage</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md10232"></a>
CSS</h3>
<p>You can also use CSS to hide or show content based on the current theme. To avoid the hydration mismatch, you'll need to render <em>both</em> versions of the UI, with CSS hiding the unused version. For example:</p>
<div class="fragment"><div class="line">function ThemedImage() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      {/* When the theme is dark, hide this div */}</div>
<div class="line">      &lt;div data-hide-on-theme=&quot;dark&quot;&gt;</div>
<div class="line">        &lt;Image src=&quot;light.png&quot; width={400} height={400} /&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">      {/* When the theme is light, hide this div */}</div>
<div class="line">      &lt;div data-hide-on-theme=&quot;light&quot;&gt;</div>
<div class="line">        &lt;Image src=&quot;dark.png&quot; width={400} height={400} /&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  )</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export default ThemedImage</div>
</div><!-- fragment --><div class="fragment"><div class="line">[data-theme=&#39;dark&#39;] [data-hide-on-theme=&#39;dark&#39;],</div>
<div class="line">[data-theme=&#39;light&#39;] [data-hide-on-theme=&#39;light&#39;] {</div>
<div class="line">  display: none;</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md10233"></a>
With TailwindCSS</h2>
<p><a href="https://next-themes-tailwind.vercel.app">Visit the live example</a> • <a href="https://github.com/pacocoursey/next-themes/tree/master/examples/tailwind">View the example source code</a></p>
<blockquote class="doxtable">
<p>NOTE! Tailwind only supports dark mode in version &gt;2. </p>
</blockquote>
<p>In your <span class="tt">tailwind.config.js</span>, set the dark mode property to <span class="tt">selector</span>:</p>
<div class="fragment"><div class="line">// tailwind.config.js</div>
<div class="line">module.exports = {</div>
<div class="line">  darkMode: &#39;selector&#39;</div>
<div class="line">}</div>
</div><!-- fragment --><p><em>Note: If you are using an older version of tailwindcss &lt; 3.4.1 use &lsquo;'class&rsquo;<span class="tt"> instead of </span>'selector'`</em></p>
<p>Set the attribute for your Theme Provider to class:</p>
<div class="fragment"><div class="line">// pages/_app.tsx</div>
<div class="line">&lt;ThemeProvider attribute=&quot;class&quot;&gt;</div>
</div><!-- fragment --><p>If you're using the value prop to specify different attribute values, make sure your dark theme explicitly uses the "dark" value, as required by Tailwind.</p>
<p>That's it! Now you can use dark-mode specific classes:</p>
<div class="fragment"><div class="line">&lt;h1 className=&quot;text-black dark:text-white&quot;&gt;</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md10234"></a>
Using a custom selector (tailwindcss &gt; 3.4.1)</h3>
<p>Tailwind also allows you to use a <a href="https://tailwindcss.com/docs/dark-mode#customizing-the-selector">custom selector</a> for dark-mode as of v3.4.1.</p>
<p>In that case, your <span class="tt">tailwind.config.js</span> would look like this:</p>
<div class="fragment"><div class="line">// tailwind.config.js</div>
<div class="line">module.exports = {</div>
<div class="line">  // data-mode is used as an example, next-themes supports using any data attribute</div>
<div class="line">  darkMode: [&#39;selector&#39;, &#39;[data-mode=&quot;dark&quot;]&#39;]</div>
<div class="line">  …</div>
<div class="line">}</div>
</div><!-- fragment --><p>Now set the attribute for your ThemeProvider to <span class="tt">data-mode</span>:</p>
<div class="fragment"><div class="line">// pages/_app.tsx</div>
<div class="line">&lt;ThemeProvider attribute=&quot;data-mode&quot;&gt;</div>
</div><!-- fragment --><p>With this setup, you can now use Tailwind's dark mode classes, as in the previous example:</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10235"></a>
Discussion</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10236"></a>
The Flash</h2>
<p>ThemeProvider automatically injects a script into <span class="tt">next/head</span> to update the <span class="tt">html</span> element with the correct attributes before the rest of your page loads. This means the page will not flash under any circumstances, including forced themes, system theme, multiple themes, and incognito. No <span class="tt">noflash.js</span> required.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10237"></a>
FAQ</h1>
<hr  />
<p><b>Why is my page still flashing?</b></p>
<p>In Next.js dev mode, the page may still flash. When you build your app in production mode, there will be no flashing.</p>
<hr  />
<p><b>Why do I get server/client mismatch error?</b></p>
<p>When using <span class="tt">useTheme</span>, you will use see a hydration mismatch error when rendering UI that relies on the current theme. This is because many of the values returned by <span class="tt">useTheme</span> are undefined on the server, since we can't read <span class="tt">localStorage</span> until mounting on the client. See the example for how to fix this error.</p>
<hr  />
<p><b>Do I need to use CSS variables with this library?</b></p>
<p>Nope. See the example.</p>
<hr  />
<p><b>Can I set the class or data attribute on the body or another element?</b></p>
<p>Nope. If you have a good reason for supporting this feature, please open an issue.</p>
<hr  />
<p><b>Can I use this package with Gatsby or CRA?</b></p>
<p>Yes, starting from the 0.3.0 version.</p>
<hr  />
<p><b>Is the injected script minified?</b></p>
<p>Yes.</p>
<hr  />
<p><b>Why is <span class="tt">resolvedTheme</span> necessary?</b></p>
<p>When supporting the System theme preference, you want to make sure that's reflected in your UI. This means your buttons, selects, dropdowns, or whatever you use to indicate the current theme should say "System" when the System theme preference is active.</p>
<p>If we didn't distinguish between <span class="tt">theme</span> and <span class="tt">resolvedTheme</span>, the UI would show "Dark" or "Light", when it should really be "System".</p>
<p><span class="tt">resolvedTheme</span> is then useful for modifying behavior or styles at runtime:</p>
<div class="fragment"><div class="line">const { resolvedTheme } = useTheme()</div>
<div class="line"> </div>
<div class="line">&lt;div style={{ color: resolvedTheme === &#39;dark&#39; ? &#39;white&#39; : &#39;black&#39; }}&gt;</div>
</div><!-- fragment --><p>If we didn't have <span class="tt">resolvedTheme</span> and only used <span class="tt">theme</span>, you'd lose information about the state of your UI (you would only know the theme is "system", and not what it resolved to). </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_8983b1862dce8a71846356b6209105f4.html">EcoEats-Project</a></li><li class="navelem"><a href="dir_5091f2b68170d33f954320199e2fed0a.html">node_modules</a></li><li class="navelem"><a href="dir_09dcd9e30b8e159151ab659826265cb8.html">next-themes</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
